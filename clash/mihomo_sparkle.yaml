# ==========================================
# Mihomo ç»ˆæé…ç½® - èåˆç²¾åç‰ˆ (è‡ªå®šä¹‰ä¿ç•™ç‰ˆ)
# åŸºäº: åŸé…ç½® + 666OS/YYDS æœ€ä½³å®è·µ
# Date: 2026-02-03
# ==========================================

# ==================== é”šç‚¹é…ç½® ====================
# ç­–ç•¥ç»„ç±»å‹æ¨¡æ¿
BaseFB:
  &BaseFB {
    type: fallback,
    interval: 300,
    lazy: true,
    url: "https://www.gstatic.com/generate_204",
  }
BaseCH:
  &BaseCH {
    type: load-balance,
    interval: 300,
    lazy: true,
    url: "https://www.gstatic.com/generate_204",
    strategy: consistent-hashing,
  }
BaseCR:
  &BaseCR {
    type: load-balance,
    interval: 300,
    lazy: true,
    url: "https://www.gstatic.com/generate_204",
    strategy: round-robin,
  }
BaseUT:
  &BaseUT {
    type: url-test,
    interval: 300,
    tolerance: 50,
    lazy: true,
    url: "https://www.gstatic.com/generate_204",
  }

# èŠ‚ç‚¹ç­›é€‰æ­£åˆ™ - åŒ…å«æœºåœºä»£ç 
FilterHK: &FilterHK "^(?=.*(?i)(æ¸¯|ğŸ‡­ğŸ‡°|HK|Hong|HKG))(?!.*(æ¸¸æˆ|GAME|5x)).*$"
FilterSG: &FilterSG "^(?=.*(?i)(å¡|ğŸ‡¸ğŸ‡¬|SG|Sing|SIN|XSP))(?!.*(æ¸¸æˆ|GAME|5x)).*$"
FilterJP: &FilterJP "^(?=.*(?i)(æ—¥|ğŸ‡¯ğŸ‡µ|JP|Japan|NRT|HND|KIX|CTS|FUK))(?!.*(æ¸¸æˆ|GAME|5x)).*$"
FilterUS: &FilterUS "^(?=.*(?i)(ç¾|ğŸ‡ºğŸ‡¸|US|USA|SJC|JFK|LAX|ORD|ATL|DFW|SFO|MIA|SEA|IAD))(?!.*(æ¸¸æˆ|GAME|5x)).*$"
# å°æ¹¾æ­£åˆ™å¢å¼ºï¼šè¦†ç›–ç¹ä½“ã€åŸå¸‚åã€æœºåœºä»£ç 
FilterTW: &FilterTW "^(?=.*(?i)(å°|è‡º|ğŸ‡¹ğŸ‡¼|TW|Taiwan|Taipei|Taichung|Tainan|Kaohsiung|TPE|TSA|KHH|RMQ|TNN|æ–°ç«¹|æ¡ƒå›­|æ¡ƒåœ’|å½°åŒ–|é«˜é›„|å°åŒ—|å°ä¸­|å°å—|Hsinchu|Taoyuan))(?!.*(æ¸¸æˆ|GAME|5x)).*$"
FilterEU: &FilterEU "^(?=.*(?i)(è‹±|æ³•|å¾·|è·|æ„|è¥¿|ç‘|èŠ¬|ä¸¹|æŒª|æ³¢|ğŸ‡¬ğŸ‡§|ğŸ‡«ğŸ‡·|ğŸ‡©ğŸ‡ª|ğŸ‡³ğŸ‡±|ğŸ‡®ğŸ‡¹|ğŸ‡ªğŸ‡¸|ğŸ‡¨ğŸ‡­|CDG|FRA|AMS|LHR|MUC))(?!.*(æ¸¸æˆ|GAME|5x)).*$"
# å†·é—¨èŠ‚ç‚¹ï¼šæ’é™¤ä¸»æµåœ°åŒºï¼ˆéŸ©å›½å·²ç§»å…¥å†·é—¨ï¼Œä¸å†æ’é™¤ï¼‰
FilterOT: &FilterOT "^(?!.*(DIRECT|ç›´è¿|ç¾|æ¸¯|å¡|å°|è‡º|æ–°|æ—¥|è‹±|æ³•|å¾·|ğŸ‡­ğŸ‡°|ğŸ‡¹ğŸ‡¼|ğŸ‡¸ğŸ‡¬|ğŸ‡¯ğŸ‡µ|ğŸ‡ºğŸ‡¸|ğŸ‡¬ğŸ‡§|HK|TW|SG|JP|US|GB|Taiwan|Taipei))"
FilterAL: &FilterAL "^(?!.*(DIRECT|ç›´è¿|ç¾¤|é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|è¿‡æœŸ|åˆ°æœŸ|æµé‡|USE|USED|TOTAL|EXPIRE))"

# ç­–ç•¥ç»„ä»£ç†åˆ—è¡¨æ¨¡æ¿ï¼ˆéŸ©å›½å·²ç§»å…¥å†·é—¨ï¼‰
SelectFB:
  &SelectFB {
    type: select,
    proxies:
      [
        æ•…éšœè½¬ç§»,
        é¦™æ¸¯ç­–ç•¥,
        ç‹®åŸç­–ç•¥,
        æ—¥æœ¬ç­–ç•¥,
        ç¾å›½ç­–ç•¥,
        å°æ¹¾ç­–ç•¥,
        æ¬§ç›Ÿç­–ç•¥,
        å†·é—¨èŠ‚ç‚¹,
        å…¨éƒ¨èŠ‚ç‚¹,
        DIRECT,
      ],
  }
SelectPY:
  &SelectPY {
    type: select,
    proxies:
      [
        ğŸ¯ èŠ‚ç‚¹é€‰æ‹©,
        æ•…éšœè½¬ç§»,
        é¦™æ¸¯ç­–ç•¥,
        ç‹®åŸç­–ç•¥,
        æ—¥æœ¬ç­–ç•¥,
        ç¾å›½ç­–ç•¥,
        å°æ¹¾ç­–ç•¥,
        æ¬§ç›Ÿç­–ç•¥,
        å†·é—¨èŠ‚ç‚¹,
        å…¨éƒ¨èŠ‚ç‚¹,
        DIRECT,
      ],
  }
SelectDC:
  &SelectDC {
    type: select,
    proxies:
      [DIRECT, ğŸ¯ èŠ‚ç‚¹é€‰æ‹©, æ•…éšœè½¬ç§», é¦™æ¸¯ç­–ç•¥, ç‹®åŸç­–ç•¥, æ—¥æœ¬ç­–ç•¥, ç¾å›½ç­–ç•¥],
  }
SelectUS:
  &SelectUS {
    type: select,
    proxies:
      [
        ç¾å›½ç­–ç•¥,
        ğŸ¯ èŠ‚ç‚¹é€‰æ‹©,
        æ•…éšœè½¬ç§»,
        ç‹®åŸç­–ç•¥,
        æ—¥æœ¬ç­–ç•¥,
        é¦™æ¸¯ç­–ç•¥,
        å°æ¹¾ç­–ç•¥,
        æ¬§ç›Ÿç­–ç•¥,
        DIRECT,
      ],
  }
SelectSG:
  &SelectSG {
    type: select,
    proxies:
      [
        ç‹®åŸç­–ç•¥,
        ğŸ¯ èŠ‚ç‚¹é€‰æ‹©,
        æ•…éšœè½¬ç§»,
        é¦™æ¸¯ç­–ç•¥,
        æ—¥æœ¬ç­–ç•¥,
        ç¾å›½ç­–ç•¥,
        å°æ¹¾ç­–ç•¥,
        æ¬§ç›Ÿç­–ç•¥,
        DIRECT,
      ],
  }

# è§„åˆ™é›†æ¨¡æ¿
RulesetDomain:
  &RulesetDomain { type: http, behavior: domain, format: mrs, interval: 86400 }
RulesetIP:
  &RulesetIP { type: http, behavior: ipcidr, format: mrs, interval: 86400 }
RulesetClassical:
  &RulesetClassical {
    type: http,
    behavior: classical,
    format: text,
    interval: 86400,
  }
RulesetYaml:
  &RulesetYaml {
    type: http,
    behavior: classical,
    format: yaml,
    interval: 86400,
  }

# **=============================== æ ¸å¿ƒé…ç½® ===============================**
port: 7893
socks-port: 7891
redir-port: 7892
mixed-port: 7890
tproxy-port: 7894
allow-lan: true
mode: rule
bind-address: "*"
ipv6: false
unified-delay: true
tcp-concurrent: true
log-level: warning
find-process-mode: strict
global-client-fingerprint: chrome

# Keep Alive é…ç½®
keep-alive-interval: 30
keep-alive-idle: 600

# è®¤è¯é…ç½®
skip-auth-prefixes:
  - 127.0.0.1/8
  - 192.168.0.0/16
  - 10.0.0.0/8

# å¤–éƒ¨æ§åˆ¶é¢æ¿
external-controller: 0.0.0.0:9090
# secret: "your-secret"
external-ui: ui
external-ui-name: zashboard
external-ui-url: https://github.com/Zephyruso/zashboard/releases/latest/download/dist.zip

# ç¼“å­˜é…ç½®
profile:
  store-selected: true
  store-fake-ip: true

# GEO æ•°æ®é…ç½®
geodata-mode: true
geodata-loader: memconservative
geo-auto-update: true
geo-update-interval: 48
geox-url:
  geoip: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.dat"
  geosite: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat"
  mmdb: "https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.metadb"
  asn: "https://github.com/xishang0128/geoip/releases/download/latest/GeoLite2-ASN.mmdb"

# **=============================== åŸŸåå—…æ¢ ===============================**
sniffer:
  enable: true
  force-dns-mapping: true
  parse-pure-ip: true
  override-destination: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  force-domain:
    - "+.v2ex.com"
    - "+.netflix.com"
    - "+.nflxvideo.net"
  skip-domain:
    - "Mijia Cloud"
    - "+.push.apple.com"

# **=============================== TUN é…ç½® (Tailscale ä¼˜åŒ–) ===============================**
tun:
  enable: true
  stack: mixed
  device: Mihomo
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true
  strict-route: true
  dns-hijack:
    - any:53
    - tcp://any:53
  mtu: 1500
  gso: true
  gso-max-size: 65536
  udp-timeout: 300
  # Tailscale æ¥å£æ’é™¤
  exclude-interface:
    - tailscale0
    - utun*
    - "Tailscale*"

# **=============================== DNS é…ç½® (Tailscale å…¼å®¹) ===============================**
dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  respect-rules: true
  prefer-h3: true
  use-hosts: true
  use-system-hosts: true
  cache-algorithm: arc

  # fake-ip è¿‡æ»¤ (å« Tailscale)
  fake-ip-filter:
    - "*.lan"
    - "localhost.ptlogin2.qq.com"
    - "+.srv.nintendo.net"
    - "+.stun.playstation.net"
    - "+.msftconnecttest.com"
    - "+.msftncsi.com"
    - "+.xboxlive.com"
    - "msftconnecttest.com"
    - "xbox.*.microsoft.com"
    - "*.battlenet.com.cn"
    - "*.battlenet.com"
    - "*.blzstatic.cn"
    - "*.battle.net"
    # Tailscale ä¸“ç”¨
    - "*.ts.net"
    - "100.64.0.0/10"
    - "tailscale.com"
    - "+.local"
    - "+.home.arpa"
    # æ—¶é—´åŒæ­¥
    - "time.*.com"
    - "ntp.*.com"
    - "+.pool.ntp.org"
    - "stun.*.*"
    - "stun.*.*.*"

  proxy-server-nameserver:
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query

  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29

  nameserver:
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query

  # Tailscale åŸŸåç­–ç•¥
  nameserver-policy:
    "*.ts.net,tailscale.com": system
    "geosite:cn,private":
      - https://dns.alidns.com/dns-query
      - https://doh.pub/dns-query

  fallback:
    - https://1.1.1.1/dns-query
    - https://dns.google/dns-query
    - tls://8.8.8.8:853

  fallback-filter:
    geoip: true
    geoip-code: CN
    ipcidr:
      - 240.0.0.0/4
      - 0.0.0.0/32
      - 127.0.0.1/32
    domain:
      - "+.google.com"
      - "+.facebook.com"
      - "+.youtube.com"
      - "+.twitter.com"
      - "+.github.com"

# **=============================== ä»£ç†æä¾›è€… (é»˜è®¤æ³¨é‡Š) ===============================**
# å¦‚éœ€ä½¿ç”¨è‡ªå®šä¹‰è®¢é˜…ï¼Œå–æ¶ˆä¸‹æ–¹æ³¨é‡Šå¹¶å¡«å…¥è®¢é˜…é“¾æ¥
# proxy-providers:
#   Primary:
#     type: http
#     interval: 86400
#     proxy: DIRECT
#     url: 'https://your-subscription-url'
#     health-check:
#       enable: true
#       url: 'https://www.gstatic.com/generate_204'
#       interval: 300
#     filter: '^(?!.*(ç¾¤|é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|è¿‡æœŸ|åˆ°æœŸ|æµé‡|USE|USED|TOTAL|EXPIRE))'
#     override:
#       additional-prefix: '[ä¸»] '
#
#   Backup:
#     type: http
#     interval: 86400
#     proxy: DIRECT
#     url: 'https://your-backup-subscription-url'
#     health-check:
#       enable: true
#       url: 'https://www.gstatic.com/generate_204'
#       interval: 300
#     override:
#       additional-prefix: '[å¤‡] '

# **=============================== ç­–ç•¥ç»„é…ç½® ===============================**
proxy-groups:
  # ==================== ä¸»è¦ç­–ç•¥ç»„ ====================
  - {
      name: ğŸ¯ èŠ‚ç‚¹é€‰æ‹©,
      <<: *SelectFB,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Static.png,
    }
  - {
      name: æ•…éšœè½¬ç§»,
      <<: *BaseFB,
      proxies:
        [
          é¦™æ¸¯ç­–ç•¥,
          ç‹®åŸç­–ç•¥,
          æ—¥æœ¬ç­–ç•¥,
          ç¾å›½ç­–ç•¥,
          å°æ¹¾ç­–ç•¥,
          æ¬§ç›Ÿç­–ç•¥,
          å…¨éƒ¨èŠ‚ç‚¹,
          DIRECT,
        ],
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Available.png,
    }
  - {
      name: ğŸŒ å…¨çƒåŠ é€Ÿ,
      <<: *SelectPY,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Global.png,
    }
  - {
      name: ğŸ  å›½å†…æµé‡,
      <<: *SelectDC,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/China.png,
    }
  - {
      name: ğŸŸ å…œåº•åˆ†æµ,
      <<: *SelectPY,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Final.png,
    }

  # ==================== åº”ç”¨ç­–ç•¥ç»„ ====================
  - {
      name: ğŸ¤– äººå·¥æ™ºèƒ½,
      <<: *SelectUS,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Bot.png,
    }
  - {
      name: âœˆï¸ ç”µæŠ¥æ¶ˆæ¯,
      <<: *SelectSG,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Telegram_X.png,
    }
  - {
      name: ğŸ¬ å›½é™…åª’ä½“,
      <<: *SelectPY,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/YouTube.png,
    }
  - {
      name: ğŸ” è°·æ­ŒæœåŠ¡,
      <<: *SelectPY,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Google_Search.png,
    }
  - {
      name: â“‚ï¸ å¾®è½¯æœåŠ¡,
      <<: *SelectPY,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Microsoft.png,
    }
  - {
      name: ğŸ è‹¹æœæœåŠ¡,
      <<: *SelectDC,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Apple.png,
    }
  - {
      name: ğŸ® æ¸¸æˆå¹³å°,
      <<: *SelectDC,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Game.png,
    }
  - {
      name: ğŸ’³ PayPal,
      <<: *SelectUS,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/PayPal.png,
    }
  - {
      name: ğŸª™ åŠ å¯†è´§å¸,
      <<: *SelectSG,
      icon: https://raw.githubusercontent.com/Orz-3/mini/master/Alpha/Bitcloud.png,
    }

  # ==================== åœ°åŒºç­–ç•¥ç»„ (å«è´Ÿè½½å‡è¡¡) ====================
  - {
      name: é¦™æ¸¯ç­–ç•¥,
      type: select,
      proxies: [é¦™æ¸¯è‡ªåŠ¨, é¦™æ¸¯å‡è¡¡-æ•£åˆ—, é¦™æ¸¯å‡è¡¡-è½®è¯¢],
      include-all: true,
      filter: *FilterHK,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png,
    }
  - {
      name: å°æ¹¾ç­–ç•¥,
      type: select,
      proxies: [å°æ¹¾è‡ªåŠ¨, å°æ¹¾å‡è¡¡-æ•£åˆ—, å°æ¹¾å‡è¡¡-è½®è¯¢],
      include-all: true,
      filter: *FilterTW,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Taiwan.png,
    }
  - {
      name: ç‹®åŸç­–ç•¥,
      type: select,
      proxies: [ç‹®åŸè‡ªåŠ¨, ç‹®åŸå‡è¡¡-æ•£åˆ—, ç‹®åŸå‡è¡¡-è½®è¯¢],
      include-all: true,
      filter: *FilterSG,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png,
    }
  - {
      name: æ—¥æœ¬ç­–ç•¥,
      type: select,
      proxies: [æ—¥æœ¬è‡ªåŠ¨, æ—¥æœ¬å‡è¡¡-æ•£åˆ—, æ—¥æœ¬å‡è¡¡-è½®è¯¢],
      include-all: true,
      filter: *FilterJP,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png,
    }
  - {
      name: ç¾å›½ç­–ç•¥,
      type: select,
      proxies: [ç¾å›½è‡ªåŠ¨, ç¾å›½å‡è¡¡-æ•£åˆ—, ç¾å›½å‡è¡¡-è½®è¯¢],
      include-all: true,
      filter: *FilterUS,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png,
    }
  - {
      name: æ¬§ç›Ÿç­–ç•¥,
      type: select,
      proxies: [æ¬§ç›Ÿè‡ªåŠ¨, æ¬§ç›Ÿå‡è¡¡-æ•£åˆ—, æ¬§ç›Ÿå‡è¡¡-è½®è¯¢],
      include-all: true,
      filter: *FilterEU,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/European_Union.png,
    }

  # ==================== å…¶ä»–èŠ‚ç‚¹ ====================
  - {
      name: å†·é—¨èŠ‚ç‚¹,
      type: select,
      include-all: true,
      filter: *FilterOT,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/World_Map.png,
    }
  - {
      name: å…¨éƒ¨èŠ‚ç‚¹,
      type: select,
      include-all: true,
      filter: *FilterAL,
      icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Rocket.png,
    }

  # ==================== è‡ªåŠ¨æµ‹é€Ÿç»„ (hidden) ====================
  - {
      name: é¦™æ¸¯è‡ªåŠ¨,
      <<: *BaseUT,
      include-all: true,
      filter: *FilterHK,
      hidden: true,
    }
  - {
      name: å°æ¹¾è‡ªåŠ¨,
      <<: *BaseUT,
      include-all: true,
      filter: *FilterTW,
      hidden: true,
    }
  - {
      name: ç‹®åŸè‡ªåŠ¨,
      <<: *BaseUT,
      include-all: true,
      filter: *FilterSG,
      hidden: true,
    }
  - {
      name: æ—¥æœ¬è‡ªåŠ¨,
      <<: *BaseUT,
      include-all: true,
      filter: *FilterJP,
      hidden: true,
    }
  - {
      name: ç¾å›½è‡ªåŠ¨,
      <<: *BaseUT,
      include-all: true,
      filter: *FilterUS,
      hidden: true,
    }
  - {
      name: æ¬§ç›Ÿè‡ªåŠ¨,
      <<: *BaseUT,
      include-all: true,
      filter: *FilterEU,
      hidden: true,
    }

  # ==================== è´Ÿè½½å‡è¡¡-æ•£åˆ— (hidden) ====================
  - {
      name: é¦™æ¸¯å‡è¡¡-æ•£åˆ—,
      <<: *BaseCH,
      include-all: true,
      filter: *FilterHK,
      hidden: true,
    }
  - {
      name: å°æ¹¾å‡è¡¡-æ•£åˆ—,
      <<: *BaseCH,
      include-all: true,
      filter: *FilterTW,
      hidden: true,
    }
  - {
      name: ç‹®åŸå‡è¡¡-æ•£åˆ—,
      <<: *BaseCH,
      include-all: true,
      filter: *FilterSG,
      hidden: true,
    }
  - {
      name: æ—¥æœ¬å‡è¡¡-æ•£åˆ—,
      <<: *BaseCH,
      include-all: true,
      filter: *FilterJP,
      hidden: true,
    }
  - {
      name: ç¾å›½å‡è¡¡-æ•£åˆ—,
      <<: *BaseCH,
      include-all: true,
      filter: *FilterUS,
      hidden: true,
    }
  - {
      name: æ¬§ç›Ÿå‡è¡¡-æ•£åˆ—,
      <<: *BaseCH,
      include-all: true,
      filter: *FilterEU,
      hidden: true,
    }

  # ==================== è´Ÿè½½å‡è¡¡-è½®è¯¢ (hidden) ====================
  - {
      name: é¦™æ¸¯å‡è¡¡-è½®è¯¢,
      <<: *BaseCR,
      include-all: true,
      filter: *FilterHK,
      hidden: true,
    }
  - {
      name: å°æ¹¾å‡è¡¡-è½®è¯¢,
      <<: *BaseCR,
      include-all: true,
      filter: *FilterTW,
      hidden: true,
    }
  - {
      name: ç‹®åŸå‡è¡¡-è½®è¯¢,
      <<: *BaseCR,
      include-all: true,
      filter: *FilterSG,
      hidden: true,
    }
  - {
      name: æ—¥æœ¬å‡è¡¡-è½®è¯¢,
      <<: *BaseCR,
      include-all: true,
      filter: *FilterJP,
      hidden: true,
    }
  - {
      name: ç¾å›½å‡è¡¡-è½®è¯¢,
      <<: *BaseCR,
      include-all: true,
      filter: *FilterUS,
      hidden: true,
    }
  - {
      name: æ¬§ç›Ÿå‡è¡¡-è½®è¯¢,
      <<: *BaseCR,
      include-all: true,
      filter: *FilterEU,
      hidden: true,
    }

# **=============================== è§„åˆ™æä¾›è€… ===============================**
rule-providers:
  # ==================== å¹¿å‘Šæ‹¦æˆª ====================
  reject_non_ip:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/non_ip/reject.txt",
      path: ./ruleset/reject_non_ip.txt,
    }
  reject_domainset:
    {
      type: http,
      behavior: domain,
      format: text,
      interval: 86400,
      url: "https://ruleset.skk.moe/Clash/domainset/reject.txt",
      path: ./ruleset/reject_domainset.txt,
    }
  reject_non_ip_drop:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/non_ip/reject-drop.txt",
      path: ./ruleset/reject_non_ip_drop.txt,
    }
  reject_non_ip_no_drop:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/non_ip/reject-no-drop.txt",
      path: ./ruleset/reject_non_ip_no_drop.txt,
    }
  reject_ip:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/ip/reject.txt",
      path: ./ruleset/reject_ip.txt,
    }

  # ==================== AI æœåŠ¡ (ç»†åŒ–è§„åˆ™) ====================
  OpenAi:
    {
      <<: *RulesetYaml,
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.yaml",
      path: ./ruleset/OpenAi.yaml,
    }
  Claude:
    {
      <<: *RulesetYaml,
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Claude/Claude.yaml",
      path: ./ruleset/Claude.yaml,
    }
  Gemini:
    {
      <<: *RulesetYaml,
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Gemini/Gemini.yaml",
      path: ./ruleset/Gemini.yaml,
    }
  Copilot:
    {
      <<: *RulesetYaml,
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Copilot/Copilot.yaml",
      path: ./ruleset/Copilot.yaml,
    }
  Anthropic:
    {
      <<: *RulesetYaml,
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Anthropic/Anthropic.yaml",
      path: ./ruleset/Anthropic.yaml,
    }
  ai_non_ip:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/non_ip/ai.txt",
      path: ./ruleset/ai_non_ip.txt,
    }

  # ==================== ç¤¾äº¤åª’ä½“ ====================
  telegram_ip:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/ip/telegram.txt",
      path: ./ruleset/telegram_ip.txt,
    }
  telegram_non_ip:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/non_ip/telegram.txt",
      path: ./ruleset/telegram_non_ip.txt,
    }
  Twitter:
    {
      <<: *RulesetYaml,
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Twitter/Twitter.yaml",
      path: ./ruleset/Twitter.yaml,
    }

  # ==================== æµåª’ä½“ ====================
  Netflix:
    {
      <<: *RulesetYaml,
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml",
      path: ./ruleset/Netflix.yaml,
    }
  YouTube:
    {
      <<: *RulesetYaml,
      url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/YouTube/YouTube.yaml",
      path: ./ruleset/YouTube.yaml,
    }
  YouTubeMusic:
    {
      <<: *RulesetYaml,
      url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/YouTubeMusic/YouTubeMusic.yaml",
      path: ./ruleset/YouTubeMusic.yaml,
    }
  Bahamut:
    {
      <<: *RulesetYaml,
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Bahamut/Bahamut.yaml",
      path: ./ruleset/Bahamut.yaml,
    }
  stream_non_ip:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/non_ip/stream.txt",
      path: ./ruleset/stream_non_ip.txt,
    }
  stream_ip:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/ip/stream.txt",
      path: ./ruleset/stream_ip.txt,
    }

  # ==================== å•†ä¸šæœåŠ¡ ====================
  Google:
    {
      <<: *RulesetYaml,
      url: "https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Google/Google.yaml",
      path: ./ruleset/Google.yaml,
    }
  Github:
    {
      <<: *RulesetYaml,
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GitHub/GitHub.yaml",
      path: ./ruleset/Github.yaml,
    }
  PayPal:
    {
      <<: *RulesetYaml,
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/PayPal/PayPal.yaml",
      path: ./ruleset/PayPal.yaml,
    }
  Game:
    {
      <<: *RulesetYaml,
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Game/Game.yaml",
      path: ./ruleset/Game.yaml,
    }

  # ==================== å¾®è½¯ä¸è‹¹æœ ====================
  microsoft_non_ip:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/non_ip/microsoft.txt",
      path: ./ruleset/microsoft.txt,
    }
  microsoft_cdn_non_ip:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/non_ip/microsoft_cdn.txt",
      path: ./ruleset/microsoft_cdn_non_ip.txt,
    }
  apple_services:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/non_ip/apple_services.txt",
      path: ./ruleset/apple_services.txt,
    }
  apple_cdn:
    {
      type: http,
      behavior: domain,
      format: text,
      interval: 86400,
      url: "https://ruleset.skk.moe/Clash/domainset/apple_cdn.txt",
      path: ./ruleset/apple_cdn.txt,
    }
  apple_cn_non_ip:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/non_ip/apple_cn.txt",
      path: ./ruleset/apple_cn_non_ip.txt,
    }

  # ==================== CDNä¸ä¸‹è½½ ====================
  cdn_domainset:
    {
      type: http,
      behavior: domain,
      format: text,
      interval: 86400,
      url: "https://ruleset.skk.moe/Clash/domainset/cdn.txt",
      path: ./ruleset/cdn_domainset.txt,
    }
  cdn_non_ip:
    {
      type: http,
      behavior: domain,
      format: text,
      interval: 86400,
      url: "https://ruleset.skk.moe/Clash/non_ip/cdn.txt",
      path: ./ruleset/cdn_non_ip.txt,
    }
  download_domainset:
    {
      type: http,
      behavior: domain,
      format: text,
      interval: 86400,
      url: "https://ruleset.skk.moe/Clash/domainset/download.txt",
      path: ./ruleset/download_domainset.txt,
    }
  download_non_ip:
    {
      type: http,
      behavior: domain,
      format: text,
      interval: 86400,
      url: "https://ruleset.skk.moe/Clash/non_ip/download.txt",
      path: ./ruleset/download_non_ip.txt,
    }

  # ==================== å›½å†…ä¸å…¨çƒ ====================
  lan_non_ip:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/non_ip/lan.txt",
      path: ./ruleset/lan_non_ip.txt,
    }
  lan_ip:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/ip/lan.txt",
      path: ./ruleset/lan_ip.txt,
    }
  domestic_ip:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/ip/domestic.txt",
      path: ./ruleset/domestic_ip.txt,
    }
  domestic_non_ip:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/non_ip/domestic.txt",
      path: ./ruleset/domestic_non_ip.txt,
    }
  direct_non_ip:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/non_ip/direct.txt",
      path: ./ruleset/direct_non_ip.txt,
    }
  china_ip:
    {
      type: http,
      behavior: ipcidr,
      format: text,
      interval: 86400,
      url: "https://ruleset.skk.moe/Clash/ip/china_ip.txt",
      path: ./ruleset/china_ip.txt,
    }
  global_non_ip:
    {
      <<: *RulesetClassical,
      url: "https://ruleset.skk.moe/Clash/non_ip/global.txt",
      path: ./ruleset/global_non_ip.txt,
    }

# **=============================== åˆ†æµè§„åˆ™ ===============================**
rules:
  # ==================== 1. Tailscale é˜²æ³„æ¼ (å®Œæ•´é…ç½®) ====================
  - PROCESS-NAME,tailscale.exe,DIRECT
  - PROCESS-NAME,tailscaled.exe,DIRECT
  - PROCESS-NAME,tailscaled,DIRECT
  - IP-CIDR,100.64.0.0/10,DIRECT,no-resolve
  - DOMAIN-SUFFIX,ts.net,DIRECT
  - DOMAIN-KEYWORD,tailscale,DIRECT

  # ==================== 2. ç”¨æˆ·è‡ªå®šä¹‰ç›´è¿ ====================
  - IP-CIDR,192.168.31.0/24,DIRECT,no-resolve
  - DOMAIN-SUFFIX,guoker.org,DIRECT
  - DOMAIN-SUFFIX,gying.net,DIRECT
  - DOMAIN-SUFFIX,yunwu.ai,DIRECT
  - DOMAIN-SUFFIX,smardaten.com,DIRECT
  - DOMAIN-SUFFIX,openrouter.ai,DIRECT
  - DOMAIN-SUFFIX,right.codes,DIRECT
  - DOMAIN-SUFFIX,juejin.cn,DIRECT

  # ==================== 3. ç”¨æˆ·è‡ªå®šä¹‰ä»£ç† ====================
  - DOMAIN-SUFFIX,coze.com,ğŸŒ å…¨çƒåŠ é€Ÿ
  - DOMAIN-SUFFIX,ouonetwork.com,ğŸŒ å…¨çƒåŠ é€Ÿ
  - DOMAIN-SUFFIX,linux.do,ğŸŒ å…¨çƒåŠ é€Ÿ
  - DOMAIN-SUFFIX,marketplace.jetbrains.com,ğŸŒ å…¨çƒåŠ é€Ÿ

  # ==================== 4. å¹¿å‘Šæ‹¦æˆª ====================
  - RULE-SET,reject_non_ip,REJECT
  - RULE-SET,reject_domainset,REJECT
  - RULE-SET,reject_non_ip_drop,REJECT-DROP
  - RULE-SET,reject_non_ip_no_drop,REJECT
  - RULE-SET,reject_ip,REJECT

  # ==================== 5. AI æœåŠ¡ (ç»†åŒ–è§„åˆ™ä¿ç•™) ====================
  - DOMAIN-KEYWORD,antigravity,ğŸ” è°·æ­ŒæœåŠ¡
  - DOMAIN-SUFFIX,deepseek.com,ğŸ¤– äººå·¥æ™ºèƒ½
  - DOMAIN-SUFFIX,grok.com,ğŸ¤– äººå·¥æ™ºèƒ½
  - DOMAIN-SUFFIX,cici.com,ğŸ¤– äººå·¥æ™ºèƒ½
  - DOMAIN-SUFFIX,trae.ai,ğŸ¤– äººå·¥æ™ºèƒ½
  - DOMAIN-SUFFIX,perplexity.ai,ğŸ¤– äººå·¥æ™ºèƒ½
  - DOMAIN-SUFFIX,poe.com,ğŸ¤– äººå·¥æ™ºèƒ½
  - DOMAIN-SUFFIX,cursor.sh,ğŸ¤– äººå·¥æ™ºèƒ½
  - DOMAIN-SUFFIX,cursor.com,ğŸ¤– äººå·¥æ™ºèƒ½
  - DOMAIN-SUFFIX,suno.ai,ğŸ¤– äººå·¥æ™ºèƒ½
  - DOMAIN-SUFFIX,midjourney.com,ğŸ¤– äººå·¥æ™ºèƒ½
  - RULE-SET,OpenAi,ğŸ¤– äººå·¥æ™ºèƒ½
  - RULE-SET,Copilot,ğŸ¤– äººå·¥æ™ºèƒ½
  - RULE-SET,Anthropic,ğŸ¤– äººå·¥æ™ºèƒ½
  - RULE-SET,Claude,ğŸ¤– äººå·¥æ™ºèƒ½
  - RULE-SET,Gemini,ğŸ” è°·æ­ŒæœåŠ¡
  - RULE-SET,ai_non_ip,ğŸ¤– äººå·¥æ™ºèƒ½

  # ==================== 6. ç¤¾äº¤åº”ç”¨ ====================
  - RULE-SET,telegram_non_ip,âœˆï¸ ç”µæŠ¥æ¶ˆæ¯
  - RULE-SET,telegram_ip,âœˆï¸ ç”µæŠ¥æ¶ˆæ¯
  - RULE-SET,Twitter,ğŸŒ å…¨çƒåŠ é€Ÿ
  - RULE-SET,Github,ğŸŒ å…¨çƒåŠ é€Ÿ

  # ==================== 7. æµåª’ä½“æœåŠ¡ ====================
  - RULE-SET,Bahamut,ğŸ¬ å›½é™…åª’ä½“
  - RULE-SET,Netflix,ğŸ¬ å›½é™…åª’ä½“
  - RULE-SET,stream_non_ip,ğŸ¬ å›½é™…åª’ä½“
  - RULE-SET,stream_ip,ğŸ¬ å›½é™…åª’ä½“
  - RULE-SET,YouTube,ğŸ¬ å›½é™…åª’ä½“
  - RULE-SET,YouTubeMusic,ğŸ¬ å›½é™…åª’ä½“

  # ==================== 8. æ¸¸æˆä¸æ”¯ä»˜ ====================
  - RULE-SET,Game,ğŸ® æ¸¸æˆå¹³å°
  - RULE-SET,PayPal,ğŸ’³ PayPal

  # ==================== 9. å¾®è½¯ä¸è‹¹æœ ====================
  - RULE-SET,apple_cdn,DIRECT
  - RULE-SET,apple_cn_non_ip,DIRECT
  - RULE-SET,apple_services,ğŸ è‹¹æœæœåŠ¡
  - RULE-SET,microsoft_cdn_non_ip,DIRECT
  - RULE-SET,microsoft_non_ip,â“‚ï¸ å¾®è½¯æœåŠ¡

  # ==================== 10. è°·æ­ŒæœåŠ¡ ====================
  - RULE-SET,Google,ğŸ” è°·æ­ŒæœåŠ¡

  # ==================== 11. ä¸‹è½½ä¸CDN ====================
  - RULE-SET,cdn_domainset,ğŸ¯ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,cdn_non_ip,ğŸ¯ èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,download_domainset,DIRECT
  - RULE-SET,download_non_ip,DIRECT

  # ==================== 12. å…¨çƒä¸å›½å†… ====================
  - RULE-SET,global_non_ip,ğŸŒ å…¨çƒåŠ é€Ÿ
  - RULE-SET,domestic_non_ip,DIRECT
  - RULE-SET,direct_non_ip,DIRECT
  - RULE-SET,lan_non_ip,DIRECT
  - RULE-SET,lan_ip,DIRECT
  - RULE-SET,domestic_ip,DIRECT
  - RULE-SET,china_ip,DIRECT

  # ==================== 13. å…œåº•è§„åˆ™ ====================
  - GEOIP,private,DIRECT,no-resolve
  - GEOIP,CN,ğŸ  å›½å†…æµé‡,no-resolve
  - MATCH,ğŸŸ å…œåº•åˆ†æµ
