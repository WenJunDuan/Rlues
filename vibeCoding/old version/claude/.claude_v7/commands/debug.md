---
description: 系统调试，问题诊断
---

# /debug - 系统调试

**触发词**: 调试、debug、排查、为什么不工作

## 工作流

```
问题分析 → 假设生成 → 验证排查 → 修复 → 寸止确认
```

## 执行步骤

### 1. 问题分析
```
1. sou.search 定位相关代码
2. 分析错误信息/日志
3. 理解预期vs实际行为
```

### 2. 假设生成
```
sequential-thinking 推演:
- 生成 3-5 个可能原因
- 按概率排序
```

### 3. 验证排查
```
1. 从最可能原因开始验证
2. 添加日志/断点
3. 收集证据
```

### 4. 寸止诊断确认
```
寸止.ask({
  question: "诊断结果",
  diagnosis: "根本原因是...",
  evidence: ["证据1", "证据2"],
  options: ["确认并修复", "继续排查"]
})
```

### 5. 修复
```
1. codex skill 修复代码
2. 自我修复循环(max 3)
3. 验证修复有效
```

### 6. 寸止验收
```
报告修复结果，等待用户确认
```

## 自我修复循环

```
Execute → Fail? → Analyze → Fix → Retry (max 3)
                                    ↓
                           寸止: 请求人工介入
```

## 常见问题模式

| 症状 | 可能原因 |
|------|----------|
| 白屏 | JS错误、路由错误 |
| 接口500 | 后端异常、数据库错误 |
| 样式错乱 | CSS冲突、响应式问题 |
| 性能差 | N+1查询、内存泄漏 |
