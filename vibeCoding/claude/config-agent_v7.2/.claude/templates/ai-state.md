---
name: ai-state-template
description: é¡¹ç›®çŠ¶æ€æ–‡ä»¶æ¨¡æ¿ï¼ŒAIçš„æŒä¹…åŒ–è®°å¿†
---

# .ai_state é¡¹ç›®çŠ¶æ€æ¨¡æ¿

## ç›®å½•ç»“æ„

```
.ai_state/
â”œâ”€â”€ active_context.md    # å½“å‰æ´»åŠ¨ä¸Šä¸‹æ–‡ï¼ˆå¿…é¡»ï¼‰
â”œâ”€â”€ conventions.md       # é¡¹ç›®çº¦å®šï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ decisions.md         # å†³ç­–è®°å½•ï¼ˆå¯é€‰ï¼‰
â””â”€â”€ hooks.log           # Stop Hooksæ—¥å¿—ï¼ˆè‡ªåŠ¨ï¼‰
```

---

## active_context.md æ¨¡æ¿

```markdown
# Active Context State

> **å¼‚æ­¥æ„è¯†**: è¿™æ˜¯AIçš„å”¯ä¸€çœŸç†æ¥æºã€‚ä¸è¦ä¾èµ–ä¼šè¯è®°å¿†ã€‚

## ğŸ¯ å½“å‰ç›®æ ‡ (Current Goal)

> [åœ¨æ­¤å¤„å¡«å†™å½“å‰å¤§çš„é‡Œç¨‹ç¢‘]

ä¾‹: å®ç°ç”¨æˆ·è®¤è¯æ¨¡å—ï¼Œæ”¯æŒJWTç™»å½•

---

## ğŸ“‹ Phase 1: [é˜¶æ®µå]

### ä»»åŠ¡çœ‹æ¿

| ID | ä»»åŠ¡ | Owner | é¢„ä¼° | çŠ¶æ€ |
|:---|:---|:---|:---|:---|
| T-001 | æ•°æ®æ¨¡å‹å®šä¹‰ | LD | 1h | â³ |
| T-002 | ç™»å½•æ¥å£ | LD | 2h | â³ |
| T-003 | TokenéªŒè¯ | LD | 1h | â³ |

### éªŒæ”¶æ ‡å‡†

- [ ] ç”¨æˆ·å¯ä»¥ç™»å½•
- [ ] Tokenæœ‰æ•ˆæœŸ24å°æ—¶
- [ ] é”™è¯¯æç¤ºå‹å¥½

---

## ğŸ—ï¸ æŠ€æœ¯æ–¹æ¡ˆ

### æ•°æ®ç»“æ„

```typescript
interface User {
  id: string;
  email: string;
  passwordHash: string;
}

interface Session {
  token: string;
  userId: string;
  expiresAt: Date;
}
```

### æ¥å£å®šä¹‰

```typescript
POST /api/auth/login
POST /api/auth/logout
GET /api/auth/me
```

---

## âš ï¸ é£é™©æ¸…å•

| é£é™© | æ¦‚ç‡ | å½±å“ | ç¼“è§£æªæ–½ |
|:---|:---|:---|:---|
| Tokenæ³„éœ² | ä¸­ | é«˜ | HttpOnly Cookie |

---

## ğŸ“ éªŒè¯æ—¥å¿—

### [2025-01-01] T-001: æ•°æ®æ¨¡å‹å®šä¹‰
- **çŠ¶æ€**: âœ… å®Œæˆ
- **éªŒè¯**: ç±»å‹æ£€æŸ¥é€šè¿‡
- **å˜æ›´**: `src/types/user.ts`

---

## ğŸ§© å…³é”®çº¦æŸ

- éµå¾ª `skills/knowledge-bridge/` è§„èŒƒ
- TypeScript æ—  any
- å‡½æ•° < 50è¡Œ

---

## ğŸ“Œ å¤‡æ³¨

[ä¸´æ—¶è®°å½•ï¼Œå¾…æ•´ç†]
```

---

## conventions.md æ¨¡æ¿

```markdown
# é¡¹ç›®çº¦å®š

## å‘½åè§„èŒƒ

| ç±»å‹ | è§„èŒƒ | ç¤ºä¾‹ |
|:---|:---|:---|
| ç»„ä»¶ | PascalCase | `UserCard` |
| å‡½æ•° | camelCase | `getUserById` |
| å¸¸é‡ | UPPER_SNAKE | `MAX_RETRY` |
| æ–‡ä»¶(ç»„ä»¶) | PascalCase | `UserCard.tsx` |
| æ–‡ä»¶(å·¥å…·) | camelCase | `formatDate.ts` |

## ç›®å½•ç»“æ„

```
src/
â”œâ”€â”€ components/    # é€šç”¨ç»„ä»¶
â”œâ”€â”€ pages/         # é¡µé¢ç»„ä»¶
â”œâ”€â”€ hooks/         # è‡ªå®šä¹‰hooks
â”œâ”€â”€ utils/         # å·¥å…·å‡½æ•°
â”œâ”€â”€ types/         # ç±»å‹å®šä¹‰
â”œâ”€â”€ api/           # APIè°ƒç”¨
â””â”€â”€ stores/        # çŠ¶æ€ç®¡ç†
```

## Gitè§„èŒƒ

| å‰ç¼€ | ç”¨é€” |
|:---|:---|
| feat | æ–°åŠŸèƒ½ |
| fix | ä¿®å¤ |
| refactor | é‡æ„ |
| docs | æ–‡æ¡£ |
| test | æµ‹è¯• |
| chore | æ‚é¡¹ |

## ä»£ç è§„èŒƒ

- å‡½æ•° < 50è¡Œ
- ç»„ä»¶ < 200è¡Œ
- æ—  any ç±»å‹
- å®Œæ•´é”™è¯¯å¤„ç†
```

---

## decisions.md æ¨¡æ¿

```markdown
# å†³ç­–è®°å½• (ADR)

## ADR-001: è®¤è¯æ–¹æ¡ˆé€‰æ‹©

**æ—¥æœŸ**: 2025-01-01
**çŠ¶æ€**: å·²é‡‡çº³

### èƒŒæ™¯
éœ€è¦å®ç°ç”¨æˆ·è®¤è¯åŠŸèƒ½

### æ–¹æ¡ˆå¯¹æ¯”
| æ–¹æ¡ˆ | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|:---|:---|:---|
| JWT | æ— çŠ¶æ€ | æ— æ³•ä¸»åŠ¨å¤±æ•ˆ |
| Session | å¯æ§ | éœ€è¦å­˜å‚¨ |

### å†³ç­–
é€‰æ‹© JWT + Redis æ–¹æ¡ˆ

### ç†ç”±
- æ”¯æŒåˆ†å¸ƒå¼
- å¯ä»¥ä¸»åŠ¨å¤±æ•ˆ

### å½±å“
- éœ€è¦å¼•å…¥Redis
- Tokenåˆ·æ–°æœºåˆ¶
```

---

## ä½¿ç”¨è¯´æ˜

### åˆå§‹åŒ–é¡¹ç›®

```bash
mkdir .ai_state
touch .ai_state/active_context.md
```

### AIå¯åŠ¨æ—¶

```
1. è¯»å– .ai_state/active_context.md
2. æ±‡æŠ¥å½“å‰çŠ¶æ€
3. ç­‰å¾…ç”¨æˆ·æŒ‡ä»¤
```

### AIç»“æŸæ—¶

```
1. æ›´æ–°ä»»åŠ¡çŠ¶æ€
2. è®°å½•éªŒè¯ç»“æœ
3. ä¿å­˜åˆ° .ai_state/active_context.md
```
